# DQNTraderを作成するに当たって学習もしくは考えた事
そもそもLSTMのHidden_steateを保持するコードに以前のLTSMnetを作っていなかった。要修正検証   
ステートフルLSTMにしなければ全層結合と予測精度はほぼ同じになってしまうため、LSTMの意味がない。LSTMTraderをどうにかする。このDQNTraderではLSTMNetの内容も一部使っているため関係あると言えばある。  
ステートフルLSTMにする場合バッジ内のデータをシャッフルする必要はない。DQNでは実際にゲームを一通りやって学習するため関係ないが、データを一気に用意しておいて学習させる普通の学習と同じような奴ではお手本通りbatch内のデータをシャッフルしてしまっていたので直す。   
ただ、 Bootstrapped Sequential Updates（一通りhidden_stateをリセットせずに学習する）方法とBootstrapped Random Updates(ランダムな点から開始して開始するごとにhidden stateがリセットされる)手法の２つがあることを考慮する。   
報酬がまちまちでガバガバ。-1~1でクリッピングする。   
hidden_stateはLSTMが各タイムステップで生成する内部の状態であり、パラメーターの更新で更新されるパラメーターではない。あくまでも中間的な結果ということ。   
こう考えると、hidden_stateは短期記憶？と言える。これがリセットされるステートレスLSTMでは時系列の短期記憶がforwardを実行するごとにリセットされるため、いわば完璧に学習した記憶（パラメータの更新で獲得した記憶）は思い出せても最近の事とこれらが時系列で思い出せない老人状態になっている。   
バッジ内でのデータの相互影響がなくなる。   
これを解決するために